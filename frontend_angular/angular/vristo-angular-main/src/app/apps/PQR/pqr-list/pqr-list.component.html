<div class="panel mt-6 pb-0">
  <div class="mb-5 flex flex-col gap-5 md:flex-row md:items-center">
    <h5 class="text-lg font-semibold dark:text-white-light">Lista de pqr</h5>
    <div class="ltr:ml-auto rtl:mr-auto">
      <input [(ngModel)]="search1" type="text" class="form-input w-auto" placeholder="Search..." />
    </div>
  </div>

  <div class="datatable">
    <ng-datatable
      [rows]="rows"
      [columns]="datatable1Cols"
      [sortable]="true"
      sortColumn="firstName"
      [search]="search1"
      skin="whitespace-nowrap table-hover"
      firstArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M13 19L7 12L13 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M16.9998 19L10.9998 12L16.9998 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
      lastArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M11 19L17 12L11 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> <path opacity="0.5" d="M6.99976 19L12.9998 12L6.99976 5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg> '
      previousArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M15 5L9 12L15 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
      nextArrow='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-4.5 h-4.5 rtl:rotate-180"> <path d="M9 5L15 12L9 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/> </svg>'
    >
      <ng-template slot="dob" let-value="data"> {{ formatDate(value.dob) }} </ng-template>
      <ng-template slot="status" let-value="data">
        <span class="badge" [ngClass]="'bg-' + value.statusColor">{{ value.status }}</span>
      </ng-template>
      <ng-template slot="action" let-value>
        <div class="text-center flex items-center justify-center space-x-2">
          <button type="button" class="btn btn-sm btn-primary" ngxTippy="Ver información" (click)="verInformacion(value)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
          </button>
          <button type="button" class="btn btn-sm btn-info" ngxTippy="Editar información" (click)="editarInformacion(value)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path></svg>
          </button>
          <button type="button" class="btn btn-sm btn-danger" ngxTippy="Eliminar" (click)="eliminarInformacion(value)">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="w-4 h-4"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg>
          </button>
        </div>
      </ng-template>
    </ng-datatable>
  </div>
</div>
<div *ngIf="isViewMode || isEditMode" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center">
  <div class="bg-white p-6 rounded-lg max-w-2xl w-full">
    <button (click)="closeModal()" class="float-right text-gray-600 hover:text-gray-800">&times;</button>
    
    <app-pqr-view *ngIf="isViewMode" [pqr]="selectedPqr"></app-pqr-view>
    <app-pqr-edit *ngIf="isEditMode" [pqr]="selectedPqr" (save)="savePqr($event)"></app-pqr-edit>
  </div>